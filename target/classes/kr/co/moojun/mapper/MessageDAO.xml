<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="kr.co.moojun.model.DAO.MessageDAO">
	
	<!-- 쪽지 쓰기 -->
	<insert id="insertBoard" parameterType="kr.co.moojun.mapper.MessageDTO" >
		insert into message(num, sender, receiver, content, regdate)
		values(message_seq, #{sender},#{receiver},#{content},SYSDATE)	
	</insert>

	<!-- 메시지 리스트  -->
	<select id="getMessageList" parameterType="kr.co.moojun.mapper.MessageDTO" resultType="kr.co.mycom.model.BoardDTO">
		select * from message 
		where sender = #{sender} or receiver = #{sender}
	</select>

	<!-- 메시지 디테일 -->
	<select id="getMessageDetail" parameterType="Integer" resultType="kr.co.moojun.mapper.MessageDTO">
		select * from message where num = #{num}
	</select>
	

	<!-- 메시지 삭제하기 -->
	<delete id="deleteMessage" parameterType="kr.co.moojun.mapper.MessageDTO">
		delete from message where num = #{num}
	</delete>

</mapper>  
